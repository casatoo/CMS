<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/default}">
<head>
    <title>관리자 대시보드</title>
    <!-- ApexCharts CDN -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.45.0/dist/apexcharts.min.js"></script>
    <!-- dashboard.js 추가 -->
    <script src="/js/domain/dashboard/dashboard.js"></script>
</head>
<div layout:fragment="content">
    <div class="container p-t-20">
        <!-- 페이지 제목 -->
        <div class="row mb-4">
            <div class="col-md-12">
                <h3><i class="bx bx-line-chart"></i> 관리자 대시보드</h3>
            </div>
        </div>

        <!-- 상단 통계 카드 -->
        <div class="row">
            <!-- 전체 사용자 -->
            <div class="col-md-3">
                <div class="card bg-white h-100p">
                    <div class="card-body text-center">
                        <i class="bx bx-user bx-lg text-primary"></i>
                        <h5 class="card-title mt-2">전체 사용자</h5>
                        <h2 id="totalUsers" class="text-primary">-</h2>
                        <small class="text-muted">명</small>
                    </div>
                </div>
            </div>

            <!-- 오늘 출근 -->
            <div class="col-md-3">
                <div class="card bg-white h-100p">
                    <div class="card-body text-center">
                        <i class="bx bx-check-circle bx-lg text-success"></i>
                        <h5 class="card-title mt-2">오늘 출근</h5>
                        <h2 id="todayCheckIn" class="text-success">-</h2>
                        <small class="text-muted">명</small>
                    </div>
                </div>
            </div>

            <!-- 미출근 -->
            <div class="col-md-3">
                <div class="card bg-white h-100p">
                    <div class="card-body text-center">
                        <i class="bx bx-x-circle bx-lg text-warning"></i>
                        <h5 class="card-title mt-2">미출근</h5>
                        <h2 id="notCheckedIn" class="text-warning">-</h2>
                        <small class="text-muted">명</small>
                    </div>
                </div>
            </div>

            <!-- 승인 대기 -->
            <div class="col-md-3">
                <div class="card bg-white h-100p">
                    <div class="card-body text-center">
                        <i class="bx bx-time bx-lg text-danger"></i>
                        <h5 class="card-title mt-2">승인 대기</h5>
                        <h2 id="totalPending" class="text-danger">-</h2>
                        <small class="text-muted">건</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- 차트 영역 -->
        <div class="row m-t-20">
            <!-- 출근 현황 도넛 차트 -->
            <div class="col-md-6">
                <div class="card bg-white h-100p">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="bx bx-pie-chart-alt-2"></i> 오늘 출근 현황
                        </h5>
                        <div id="attendanceChart" style="height: 300px;"></div>
                    </div>
                </div>
            </div>

            <!-- 승인 대기 현황 막대 차트 -->
            <div class="col-md-6">
                <div class="card bg-white h-100p">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="bx bx-bar-chart-alt-2"></i> 승인 대기 현황
                        </h5>
                        <div id="pendingRequestsChart" style="height: 300px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 최종 업데이트 시간 -->
        <div class="row m-t-20">
            <div class="col-md-12 text-right">
                <small class="text-muted">
                    <i class="bx bx-refresh"></i>
                    최종 업데이트: <span id="lastUpdated">-</span>
                </small>
            </div>
        </div>
    </div>
</div>
</html>
